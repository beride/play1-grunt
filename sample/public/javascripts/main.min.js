angular.module("app",["ngResource"]),angular.module("app").controller("GrowlCtrl",["$scope","pubsub",function(o,t){"use strict";o.alerts=[],t.subscribe("growl",function(t,e,r){o.alerts.push({type:e||"",msg:r})}),o.close=function(t){o.alerts.splice(t,1)}}]),angular.module("app").controller("LoginCtrl",["$scope",function(o){"use strict";o.user={},o.login=function(o){console.log("login with",o.email,o.password)}}]),angular.module("app").controller("MainCtrl",["$scope",function(o){"use strict";o.name="Leon"}]),angular.module("app").controller("TodoEditCtrl",["$scope","$routeParams","pubsub","TodoRes",function(o,t,e,r){"use strict";o.todo=r.get({todoId:t.todoId}),o.save=function(o){o.$save(),e.publish("growl",["success","Todo "+o.name+" saved"])}}]),angular.module("app").controller("TodoListCtrl",["$scope","TodoRes",function(o,t){"use strict";o.todos=t.query(),o.remove=function(o){o.$remove()}}]),angular.module("app").controller("TodoViewCtrl",["$scope","$routeParams","TodoRes",function(o,t,e){"use strict";o.todo=e.get({todoId:t.todoId})}]),angular.element(document).ready(function(){"use strict";angular.bootstrap(document,["app"])}),angular.module("app").factory("TagRes",["$resource",function(o){"use strict";return o("/api/tag/:tagId",{tagId:"@id"})}]),angular.module("app").factory("TodoRes",["$resource",function(o){"use strict";return o("/api/todo/:todoId",{todoId:"@id"})}]),angular.module("app").config(["$routeProvider","$locationProvider",function(o,t){"use strict";t.html5Mode(!0),o.when("/",{templateUrl:"/views/main.html",controller:"MainCtrl"}).when("/login",{templateUrl:"/views/login.html",controller:"LoginCtrl"}).when("/todos",{templateUrl:"/views/todo/list.html",controller:"TodoListCtrl"}).when("/todo/:todoId",{templateUrl:"/views/todo/view.html",controller:"TodoViewCtrl"}).when("/todo/:todoId/edit",{templateUrl:"/views/todo/edit.html",controller:"TodoEditCtrl"})}]),angular.module("app").factory("pubsub",function(){"use strict";var o=$({});return $.subscribe=function(){o.on.apply(o,arguments)},$.unsubscribe=function(){o.off.apply(o,arguments)},$.publish=function(){o.trigger.apply(o,arguments)},$});